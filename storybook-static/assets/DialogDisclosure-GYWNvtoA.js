import{m as le,k as F,l as I,_ as p,b as x,f as $,n as ce,a as U,e as B,d as V,c as z,o as se,g as w,i as de,p as J,q as ve,r as O,s as fe,t as be}from"./Clickable-BApbfUri.js";import{r as o}from"./index-D4H_InIO.js";import{c as me,u as he,b as ge,d as De}from"./Disclosure-BpSKb0FX.js";import{r as Ee}from"./index-CeB5NTF0.js";import{r as we}from"./removeIndexFromArray-Op0ZOHre.js";function _e(n,e){if("closest"in n)return n.closest(e);do{if(le(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function Q(n,e){var r=o.useRef(!1);o.useEffect(function(){if(r.current)return n();r.current=!0},e)}var Ce=I&&"msCrypto"in window;function Oe(n){if(Ce){var e=F(n.currentTarget);return e}return n.relatedTarget}function Se(n){var e=F(n);if(!e)return!1;if(e===n)return!0;var r=e.getAttribute("aria-activedescendant");return r?r===n.id:!1}function A(n,e){var r=e===void 0?{}:e,t=r.preventScroll,a=r.isActive,i=a===void 0?Se:a;return i(n)||(n.focus({preventScroll:t}),i(n))?-1:requestAnimationFrame(function(){n.focus({preventScroll:t})})}function or(n){n===void 0&&(n={});var e=me(n),r=e.modal,t=r===void 0?!0:r,a=p(e,["modal"]),i=he(a),u=o.useState(t),l=u[0],s=u[1],c=o.useRef(null);return x(x({},i),{},{modal:l,setModal:s,unstable_disclosureRef:c})}function X(){return I?document.body:null}var Y=o.createContext(X());function S(n){var e=n.children,r=o.useContext(Y)||X(),t=o.useState(function(){if(I){var i=document.createElement("div");return i.className=S.__className,i}return null}),a=t[0];return $(function(){if(!(!a||!r))return r.appendChild(a),function(){r.removeChild(a)}},[a,r]),a?Ee.createPortal(o.createElement(Y.Provider,{value:a},e),a):null}S.__className="__reakit-portal";S.__selector="."+S.__className;function L(n,e){var r=n.indexOf(e);return we(n,r)}var T=o.createContext(null);function lr(n,e,r){var t="unstable_orphan"in r&&r.unstable_orphan,a=o.useContext(T),i=o.useState([]),u=i[0],l=i[1],s=a||{},c=s.addChild,g=s.removeChild,f=o.useCallback(function(d){return l(function(v){return[].concat(v,[d])})},[]),h=o.useCallback(function(d){return l(function(v){return L(v,d)})},[]);o.useEffect(function(){if(!(!c||t))return c(n),function(){g?.(n)}},[n,c,g,t]);var m=o.useMemo(function(){return{orientation:r.orientation,next:r.next,previous:r.previous,ref:n,role:e,parent:a,children:u,addChild:f,removeChild:h}},[r.orientation,r.next,r.previous,n,e,a,u,f,h]),b=o.useCallback(function(d){return o.createElement(T.Provider,{value:m},d)},[m]);return b}function ye(n){if(Array.isArray(n)){for(var e=0,r=Array(n.length);e<n.length;e++)r[e]=n[e];return r}else return Array.from(n)}var H=!1;if(typeof window<"u"){var j={get passive(){H=!0}};window.addEventListener("testPassive",null,j),window.removeEventListener("testPassive",null,j)}var Z=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),_=[],P=!1,ee=-1,y=void 0,k=void 0,re=function(e){return _.some(function(r){return!!(r.options.allowTouchMove&&r.options.allowTouchMove(e))})},R=function(e){var r=e||window.event;return re(r.target)||r.touches.length>1?!0:(r.preventDefault&&r.preventDefault(),!1)},ke=function(e){if(k===void 0){var r=!!e&&e.reserveScrollBarGap===!0,t=window.innerWidth-document.documentElement.clientWidth;r&&t>0&&(k=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}y===void 0&&(y=document.body.style.overflow,document.body.style.overflow="hidden")},xe=function(){k!==void 0&&(document.body.style.paddingRight=k,k=void 0),y!==void 0&&(document.body.style.overflow=y,y=void 0)},Fe=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},pe=function(e,r){var t=e.targetTouches[0].clientY-ee;return re(e.target)?!1:r&&r.scrollTop===0&&t>0||Fe(r)&&t<0?R(e):(e.stopPropagation(),!0)},Be=function(e,r){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!_.some(function(a){return a.targetElement===e})){var t={targetElement:e,options:r||{}};_=[].concat(ye(_),[t]),Z?(e.ontouchstart=function(a){a.targetTouches.length===1&&(ee=a.targetTouches[0].clientY)},e.ontouchmove=function(a){a.targetTouches.length===1&&pe(a,e)},P||(document.addEventListener("touchmove",R,H?{passive:!1}:void 0),P=!0)):ke(r)}},Ae=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}_=_.filter(function(r){return r.targetElement!==e}),Z?(e.ontouchstart=null,e.ontouchmove=null,P&&_.length===0&&(document.removeEventListener("touchmove",R,H?{passive:!1}:void 0),P=!1)):_.length||xe()},Pe=o.createContext(void 0);function Re(n){return Array.isArray(n)?!n.length:ce(n)?!Object.keys(n).length:n==null||n===""}var ne=["baseId","unstable_idCountRef","visible","animated","animating","setBaseId","show","hide","toggle","setVisible","setAnimated","stopAnimation","modal","unstable_disclosureRef","setModal"],Le=[].concat(ne,["hideOnEsc","hideOnClickOutside","preventBodyScroll","unstable_initialFocusRef","unstable_finalFocusRef","unstable_orphan","unstable_autoFocusOnShow","unstable_autoFocusOnHide"]),Te=ne,Me=Te;function Ie(n,e){var r=o.useRef(null),t=!!(e.animated&&e.animating);return o.useEffect(function(){if(!(e.visible||t)){var a=function(l){var s=l.target;"focus"in s&&(r.current=s,e.unstable_disclosureRef&&(e.unstable_disclosureRef.current=s))},i=w(n.current);return i.addEventListener("focusin",a),function(){return i.removeEventListener("focusin",a)}}},[e.visible,t,e.unstable_disclosureRef,n]),o.useEffect(function(){var a;if(!(!e.visible||t)){var i=function(s){var c=s.currentTarget;de(c)&&(s.preventDefault(),c.focus())},u=((a=e.unstable_disclosureRef)===null||a===void 0?void 0:a.current)||r.current;return u?.addEventListener("mousedown",i),function(){return u?.removeEventListener("mousedown",i)}}},[e.visible,t,e.unstable_disclosureRef]),e.unstable_disclosureRef||r}function $e(n,e){var r=!!(e.preventBodyScroll&&e.visible);o.useEffect(function(){var t=n.current;if(!(!t||!r))return Be(t,{reserveScrollBarGap:!0}),function(){return Ae(t)}},[n,r])}function He(n,e,r){var t=r.unstable_initialFocusRef,a=r.visible&&r.unstable_autoFocusOnShow,i=!!(r.animated&&r.animating);Q(function(){var u=n.current;if(a&&u&&!i&&!e.some(function(c){return c.current&&!c.current.hidden}))if(t!=null&&t.current)t.current.focus({preventScroll:!0});else{var l=J(u,!0),s=function(){return fe(u)};l?A(l,{preventScroll:!0,isActive:s}):A(u,{preventScroll:!0,isActive:s})}},[n,a,i,e,t])}function Ne(n,e){var r=o.useRef(null);return o.useEffect(function(){var t=n.current;!t||!e.visible||(r.current=_e(t,S.__selector))},[n,e.visible]),r}function G(n){n.parentNode!=null&&n.parentNode.removeChild(n)}var te="__reakit-focus-trap";function Ke(n){var e;return(e=n.classList)===null||e===void 0?void 0:e.contains(te)}function Ye(n,e,r){var t=Ne(n,r),a=r.visible&&r.modal,i=o.useRef(null),u=o.useRef(null);o.useEffect(function(){if(a){var l=t.current;if(l){if(!i.current){var s=w(l);i.current=s.createElement("div"),i.current.className=te,i.current.tabIndex=0,i.current.style.position="fixed",i.current.setAttribute("aria-hidden","true")}return u.current||(u.current=i.current.cloneNode()),l.insertAdjacentElement("beforebegin",i.current),l.insertAdjacentElement("afterend",u.current),function(){i.current&&G(i.current),u.current&&G(u.current)}}}},[t,a]),o.useEffect(function(){var l=i.current,s=u.current;if(!(!a||!l||!s)){var c=function(f){var h=n.current;if(!(!h||e.length)){f.preventDefault();var m=f.target===s,b=m?J(h):ve(h);b?b.focus():h.focus()}};return l.addEventListener("focus",c),s.addEventListener("focus",c),function(){l.removeEventListener("focus",c),s.removeEventListener("focus",c)}}},[n,e,a])}function je(n){var e=n.current;if(!e)return!1;var r=F(e);return!r||O(e,r)?!1:!!(be(r)||r.getAttribute("data-dialog")==="true")}function Ge(n,e,r){var t=r.unstable_autoFocusOnHide&&!r.visible,a=!!(r.animated&&r.animating);Q(function(){var i;if(t&&!a&&!je(n)){var u=((i=r.unstable_finalFocusRef)===null||i===void 0?void 0:i.current)||e.current;if(u){if(u.id){var l=w(u),s=l.querySelector("[aria-activedescendant='"+u.id+"']");if(s){A(s);return}}A(u);return}}},[t,a,n,e])}var W=o.createContext({});function We(n,e){var r=o.useContext(W),t=o.useState([]),a=t[0],i=t[1],u=o.useState(a),l=u[0],s=u[1],c=o.useCallback(function(d){var v;(v=r.addDialog)===null||v===void 0||v.call(r,d),i(function(E){return[].concat(E,[d])})},[r.addDialog]),g=o.useCallback(function(d){var v;(v=r.removeDialog)===null||v===void 0||v.call(r,d),i(function(E){return L(E,d)})},[r.removeDialog]),f=o.useCallback(function(d){var v;(v=r.showDialog)===null||v===void 0||v.call(r,d),s(function(E){return[].concat(E,[d])})},[r.showDialog]),h=o.useCallback(function(d){var v;(v=r.hideDialog)===null||v===void 0||v.call(r,d),s(function(E){return L(E,d)})},[r.hideDialog]);o.useEffect(function(){var d;if(!e.unstable_orphan)return(d=r.addDialog)===null||d===void 0||d.call(r,n),function(){var v;(v=r.removeDialog)===null||v===void 0||v.call(r,n)}},[e.unstable_orphan,r.addDialog,n,r.removeDialog]),o.useEffect(function(){var d;if(!e.unstable_orphan&&e.modal&&e.visible)return(d=r.showDialog)===null||d===void 0||d.call(r,n),function(){var v;(v=r.hideDialog)===null||v===void 0||v.call(r,n)}},[e.unstable_orphan,e.modal,e.visible,r.showDialog,n,r.hideDialog]),o.useEffect(function(){if(r.visible===!1&&e.visible&&!e.unstable_orphan){var d;(d=e.hide)===null||d===void 0||d.call(e)}},[r.visible,e.visible,e.hide,e.unstable_orphan]);var m=o.useMemo(function(){return{visible:e.visible,addDialog:c,removeDialog:g,showDialog:f,hideDialog:h}},[e.visible,c,g,f,h]),b=o.useCallback(function(d){return o.createElement(W.Provider,{value:m},d)},[m]);return{dialogs:a,visibleModals:l,wrap:b}}function qe(n){return function(e){var r=e.current;if(!r)return!1;if(O(r,n))return!0;var t=w(r),a=t.querySelector('[data-dialog-ref="'+r.id+'"]');return a?O(a,n):!1}}function Ue(n,e){return O(e,n)}function Ve(n){var e=w(n);return n.tagName==="HTML"?!0:O(e.body,n)}function M(n,e,r,t,a,i,u){var l=B(a);o.useEffect(function(){if(i){var s=function(f){if(l.current){var h=n.current,m=e.current,b=f.target;h&&Ve(b)&&(O(h,b)||m&&Ue(b,m)||Ke(b)||r.some(qe(b))||l.current(f))}},c=w(n.current);return c.addEventListener(t,s,u),function(){return c.removeEventListener(t,s,u)}}},[n,e,r,t,i,l])}function ze(n,e){var r=o.useRef();return o.useEffect(function(){if(e.visible&&e.hideOnClickOutside){var t=w(n.current),a=function(u){r.current=u.target};return t.addEventListener("mousedown",a),function(){return t.removeEventListener("mousedown",a)}}},[e.visible,e.hideOnClickOutside,n]),r}function Je(n,e,r,t){var a=ze(n,t);M(n,e,r,"click",function(i){if(a.current===i.target){var u;(u=t.hide)===null||u===void 0||u.call(t)}},t.visible&&t.hideOnClickOutside),M(n,e,r,"focusin",function(i){var u=w(n.current);if(i.target!==u&&i.target!==u.body){var l;(l=t.hide)===null||l===void 0||l.call(t)}},t.visible&&t.hideOnClickOutside)}function Qe(n,e,r){var t=function(i){return M(n,{current:null},e,i,function(u){u.stopPropagation(),u.preventDefault()},r.visible&&r.modal,!0)};t("mouseover"),t("mousemove"),t("mouseout")}function Xe(n,e){o.useEffect(function(){var r=n.current;if(!(!e.visible||!r)){var t=new MutationObserver(function(a){var i=a[0].target;if(i===r){var u=w(r),l=F(r);(l===u.body||Re(l))&&r.focus()}});return t.observe(r,{childList:!0,subtree:!0}),function(){t.disconnect()}}},[e.visible,n])}function q(n){return n&&n.tagName&&n.tagName!=="HTML"&&n!==w(n).body}function Ze(n,e){var r=o.useReducer(function(u){return u+1},0),t=r[0],a=r[1];$(function(){var u=n.current;e.visible&&t&&(q(F(u))||u?.focus())},[t,n]);var i=o.useCallback(function(u){if(e.visible){var l=Oe(u);q(l)||a()}},[e.visible]);return i}var er=U({name:"Dialog",compose:ge,keys:Le,useOptions:function(e){var r=e.modal,t=r===void 0?!0:r,a=e.hideOnEsc,i=a===void 0?!0:a,u=e.hideOnClickOutside,l=u===void 0?!0:u,s=e.preventBodyScroll,c=s===void 0?t:s,g=e.unstable_autoFocusOnShow,f=g===void 0?!0:g,h=e.unstable_autoFocusOnHide,m=h===void 0?!0:h,b=e.unstable_orphan,d=p(e,["modal","hideOnEsc","hideOnClickOutside","preventBodyScroll","unstable_autoFocusOnShow","unstable_autoFocusOnHide","unstable_orphan"]);return x({modal:t,hideOnEsc:i,hideOnClickOutside:l,preventBodyScroll:t&&c,unstable_autoFocusOnShow:f,unstable_autoFocusOnHide:m,unstable_orphan:t&&b},d)},useProps:function(e,r){var t=r.ref,a=r.onKeyDown,i=r.onBlur,u=r.wrapElement,l=r.tabIndex,s=p(r,["ref","onKeyDown","onBlur","wrapElement","tabIndex"]),c=o.useRef(null),g=o.useContext(Pe),f=g&&g===e.baseId,h=Ie(c,e),m=B(a),b=B(i),d=Ze(c,e),v=We(c,e),E=v.dialogs,N=v.visibleModals,K=v.wrap,ue=e.modal&&!N.length?!0:void 0;$e(c,e),Ye(c,N,e),Xe(c,e),He(c,E,e),Ge(c,h,e),Je(c,h,E,e),Qe(c,E,e);var ae=o.useCallback(function(D){var C;(C=m.current)===null||C===void 0||C.call(m,D),!D.defaultPrevented&&D.key==="Escape"&&e.hideOnEsc&&e.hide&&(D.stopPropagation(),e.hide())},[e.hideOnEsc,e.hide]),ie=o.useCallback(function(D){var C;(C=b.current)===null||C===void 0||C.call(b,D),d(D)},[d]),oe=o.useCallback(function(D){return D=K(D),e.modal&&!f&&(D=o.createElement(S,null,D)),u&&(D=u(D)),o.createElement(T.Provider,{value:null},D)},[K,e.modal,f,u]);return x({ref:V(c,t),role:"dialog",tabIndex:l??-1,"aria-modal":ue,"data-dialog":!0,onKeyDown:ae,onBlur:ie,wrapElement:oe},s)}}),cr=z({as:"div",useHook:er,useCreateElement:function(e,r,t){return se(e,r,t)}}),rr=U({name:"DialogDisclosure",compose:De,keys:Me,useProps:function(e,r){var t=r.ref,a=r.onClick,i=p(r,["ref","onClick"]),u=o.useRef(null),l=B(a),s=o.useState(!1),c=s[0],g=s[1],f=e.unstable_disclosureRef;$(function(){var m=u.current;f&&!f.current&&(f.current=m);var b=!(f!=null&&f.current)||f.current===m;g(!!e.visible&&b)},[e.visible,f]);var h=o.useCallback(function(m){var b;(b=l.current)===null||b===void 0||b.call(l,m),!m.defaultPrevented&&f&&(f.current=m.currentTarget)},[f]);return x({ref:V(u,t),"aria-haspopup":"dialog","aria-expanded":c,onClick:h},i)}}),sr=z({as:"button",memo:!0,useHook:rr});export{Te as D,T as M,S as P,Pe as a,cr as b,sr as c,er as d,A as e,lr as f,Oe as g,_e as h,rr as i,or as u};
